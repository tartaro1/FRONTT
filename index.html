<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <main id="process"></main>
    <script type="module">
        fetch("http://localhost:3000/users")
        .then(res => res.json())
        .then(users => {
            // Assuming the structure is a nested array like [[{...}, {...}, ...]]
            const userArray = users.flat(); // Flattening the nested array

            const html = userArray.map(user => {
                return `
                    <article id="${user.ID_Usuario}" data-id="${user.ID_Usuario}">
                        <h2>${user.Nombre}</h2>
                        <h2>${user.Celular}</h2>
                        <h2>${user.Cedula}</h2>
                        <h2>${user.Direccion}</h2>
                        <h2>${user.Correo}</h2>
                        <h2>${user.Contrasena}</h2>
                        <h2>${user.ID_Rol}</h2>
                        <h2>${user.EstadoUsuario}</h2>
                        <button>Eliminar</button>
                    </article>
                `;
            }).join('');

            document.querySelector('#process').innerHTML = html;
        })
        .catch(error => console.error('Error:', error));
    </script>
</body>
</html>
